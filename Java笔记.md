# JAVA基础

## jdk11的目录结构

- bin目录 `该目录下主要存放JDK的各种工具命令`
- conf目录 `该目录下主要存放JDK的相关配置文件`
- include目录 `该目录下主要存放了一些平台的头文件`
- jmods目录 `该目录下主要存放了JDK的各种模块`
- legal目录 `该目录下主要存放了JDK各模块的授权文档`
- lib目录 `该目录下主要存放了JDK工具的一些补充jar包和源码`

## java编译及运行

**编译及运行前 先打开文件所在路径**

编译：

`javac [java文件名].java`

运行：

`java [java文件名]`

**java11新特性**

简化编译（**慎用**）：

`java [java文件名].java `

## 注释

单行注释

```java
// 我是注释
```

多行注释 

```java
/*
	我是注释
*/
```

**文档注释**

```java
/**
	我是注释
*/
```

## 变量

**基本概念**

当需要在程序中记录单个数据内容是，则声明一个变量即可，变量的本质就是在内存中申请一个存储单元，由于该存储单元中的数据内容可以发生改变，因此得名为**变量**

由于存放的数据内容大小不一样，导致所需存储单元的大小不一样，使用数据类型加以描述，为了便于下次访问还需要给该变量指定一个名字，用于记录该变量对应的存储单元

**变量的声明方式**

```java
1. 声明不赋值
[数据类型] [变量名];
int num;

2. 声明并赋值
[数据类型] [变量名] = [初始值];
int num = 233;

3. 同时声明多个同类型变量
[数据类型] [变量名],[变量名],[变量名],[变量名];
int num1,num2,num3,num4;

4. 声明多个变量并赋值
[数据类型] [变量名] = [初始值],[变量名],[变量名],[变量名];
int num1 = 5,num2,num3,num4;
```

**注意事项**

1. 使用前需要声明
2. 使用前需要初始化
3. 变量不能重复声明

## 标识符命名规则

1. 由数字、字母下划线以及$等组成，其中数字不能开头
2. 不能使用关键字
3. 区分大小写，长度没有限制
4. 支持中文，但不建议使用
5. 尽量有意义
6. 标识符可以给类/变量/属性/方法/包 起名字

## 数据类型

数据类型分为两大类：

1. 基本数据类型

   `byte、short、int、long、float、double、boolean、char`

2. 引用数据类型

   `数组、类、接口、枚举、标注`

### 单个字节表示的整数范围

在计算机中单个字节表示八位二进制数，其中最高位(最左边)代表符号位，使用0代表非负数，使用1代表负数，具体表示的整数范围如下：

```java
非负数范围： 0 ~ 127
0000 0000 ~ 0111 1111

0111 1111 => 0 + 64 + 32 + 16 + 8 + 4 + 2 + 1
          => 127

负数范围：-128 ~ -1
1000 0000 ~ 1111 1111

1000 0000 => 先减1：0111 1111
    	  => 按位取反：1000 0000
    	  => 转为十进制: 128
          => 添加负号：-128
              
1111 1111 => 先减1：1111 1110
          => 按位取反：0000 0001
    	  => 转为十进制: 1
          => 添加负号：-1
              
单个字节的范围：-128 ~ 127
```

### 整数类型

- 描述整数数据类型的变量有：byte、short、int、long
- byte类型在内存空间占1个字节 `-2^7 ~ 2^7-1`
- short类型在内存空间占2个字节 `-2^15 ~ 2^15-1`
- int类型在内存空间占4个字节 `-2^31 ~ 2^31-1`
- long类型在内存空间占8个字节 `-2^63 ~ 2^63-1`



**整数默认为int类型**

**如果希望表达更大的直接量，则在变量后面加上l或者L，推荐L，用于表示long**

**如果希望表达比long更大的整数类型，则使用java.math.BigInteger类型**

#### 常见错误

```java
1. int为转化为long
long a = 33333333333333333； // 错误：整数太大
修正：
long a = 33333333333333333L；

2. int未转换byte
int a = 25;
byte b = a;// 错误：不兼容的类型：从int转换到byte可能会有损失
System.out.println(b); 
修正：
int a = 25;
byte b = (byte)a;
System.out.println(b);
```

### 浮点类型

- 用于描述小数数据的类型：float和double，推荐double类型

- float类型在内存空间中占4个字节，叫做单精度浮点数，可以表示7位有效数字 `3.403E38 ~ 3.403E38`
- double类型在内存空间中占8个字节，叫做双精度浮点数，可以表示15位有效数字 `-1.798E308 ~ 1.798E308`



**浮点默认为double类型**

**如果希望表达更小的直接量，则在变量后面加上f或者F，推荐F，用于表示float**

**如果希望精确运算这借助java.math.BigDecimal类型**

#### 常见错误

```java
System.out.println(0.2+0.3); // 0.300000000000000004 运算时可能会有误差
```

### 布尔类型

- 用于描述真假信息的类型：boolen，数值为 ture和false
- 布尔类型在内存空间所占大小没有明确规定，可以认为是1个字节

### 字符类型

- 用于描述单个字符的数据类型：char
- char类型在内存空间中占2个字节并且没有符号位，表示的范围是：0 ~ 65535
- 由于现实生活中很少有数据能够被单个字节描述，因此以后的开发中更多的使用由多个字符串起来组成的字符串，使用String类型描述
- 计算机底层只识别0和1组成的二进制序列，对于字符'a'这样的图案来说不满足改规则，因此该数据无法直接在计算机中存储，但现实生活中存在这样的图案数据需要计算机存储，为了使得该数据能够存储起来就可以给该数据指定一个编号，然后将编号存储起来即可，该编号就叫做ASCII
- 常用的ASCII：`'0' - 48 'A' - 65 'a'-97 空格 - 32 换行符 - 10`
- java字符集采用Unicode字符集编码。Unicode是世界通用的定长字符集，所有字符都是16位

#### 转义字符

- `\` 转化原有的含义为字符串本身
- `\n` 换行
- `\t` 制表符
- `\r` 回车

### 基本数据类型之间的转化

- 基本数据类型之间的转化方式：自动类型转化和强制类型转化

- 其中自动类型的转换主要是指从小类型到大类型之间的转换

- 其中强制类型的转换主要是指从大类型到小类型之间的转换

  ```java
  [目标类型] [变量名] = ([目标类型])[变量名]
  int a = 10000;
  byte b = (int)a;
  ```


## 常用进制

二进制中的最高位用于代表符号位，1为负，0为正

八进制和十六进制都是二进制的简写

**进制前缀**

二进制：0b或者0B

八进制：0

十六进制：0x或者0X

### 补码（大坑 有待扩展）

计算机中的有符号数有三种表示方法，即原码、反码和补码

三种表示方法均有符号位和数值位两部分，符号位都是用0表示**正**，用1表示**负**，而数值位，三种表示方法各不相同

在计算机系统中，数值一律用补码来表示和存储。原因在于，使用补码，可以将符号位和数值域统一处理；同时，加法和减法也可以统一处理

### 进制之间的转换

**正十进制转换为二进制的方式**

1. 除二取余法，使用十进制整数不断地除以2取出余数，直到商为0时将余数逆序排序

2. 拆分法，将十进制整数拆分为若干个二进制权重的和，有该权重下面写1，否则写0

   ```java
   ... 128 64 32 16 8 4 2 1
   二进制 0 0  1  0  1 1 0 1
   十进制 45 => 32 + 8 + 4 + 1
   ```

**正二进制转换为十进制的方法**

加权法，使用二进制中的每个数字乘以当前位的权重再累加起来（参考拆分法）

**负十进制转换为二进制的方法**

先将十进制的绝对值转化为二进制，然后按位取反再加1

**负二进制转换为十进制的方法**

先减1再按位取反，合并为十进制整数后添加负号

## 运算符

- `+`表示加法运算符
- `-` 表示减法运算符
- `*`表示乘法运算符
- `/`表示除法运算符
- `%`表示取模/取余运算符

### 常见错误

```java
System.out.println(5 / 2);// 2 整数默认为int 不保留小数部分
System.out.println((double)(5 / 2));// 2.0
System.out.println((double)(5 / 0));// 编译ok，运行发生java.ArithmeticException(算术异常): / by zero
System.out.println((double)(5 / 0.0));// Infinity
System.out.println((double)(0 / 0.0));// NaN
```

### 字符串连接运算符

`+`可以实现字符串的连接，同时可以实现字符串与其他数据的连接

### 关系运算符

- `>`表示是否大于运算符
- `>=`表示是否大于等于运算符
- `<`表示是否小于运算符
- `<=`表示是否小于等于运算符
- `==`表示是否等于运算符
- `!=`表示是否不等于运算符
- 所有关系运算符的结果一定是boolen

### 自增减运算符

- `++`表示自增预算符，用于使得当前变量自身加1
- `--`表示自减运算符，用于使得当前变量自身减1
- 运算符再前则先加，再后则后加

#### 常见错误

```java
int ia = 14;
System.out.println(ia++ + ++ia); // 30  14 + 16
```

### 逻辑运算符

- `&&` 表示逻辑与运算符，相当于并且，同真为真，一假为假
- `||` 表示逻辑或运算符，相当于或者，一真为真，同假为假
- `！` 表示逻辑非运算符，相当于取反，真为假，假为真
- 逻辑运算的操作数均为boolean表达式

#### 逻辑运算符的短路特性

- 逻辑与运算符，若第一个表达式为假则结果为假，跳过第二个表达式
- 逻辑或运算符，若第一个表达式为真则结果为真，跳过第二个表达式

### 条件/三目运算符

- `[条件表达式] ? [表达式1] : [表达式2]`
- 判断条件表达式是否成立，若成立则执行表达式1，否则执行表达式2

### 赋值运算符

- `=`表示赋值运算符，用于将=右边的数据赋值给左边的变量，覆盖变量原来的数据
- 赋值表达式本身也有值，其本身的值为所赋的值
- `+= -= *= /= ...`

**常见错误**

```java
byte b1 = b1 + 2; // 错误：不兼容的类型 从int转化到byte可能有损失
byte b1 = b1 + (byte)2; // 错误：不兼容的类型 从int转化到byte可能有损失
byte b1 = (byte)(b1 + 2);
byte b1 += 2;
```

### 移位运算符

- `<<`左移运算符，用于将数据的二进制位向左移动，右边使用0补充
- `>>`右移运算符，用于将数据的二进制位向右移动，左边使用符号位补充
- `>>>`逻辑右移运算符，用于将数据的二进制位向右移动，左边使用0补充

### 位运算符

- `&`表示按位与运算符，按照二进制位进行与运算，同1为1，一0为0
- `|`表示按位或运算符，按照二进制位进行或运算，一1为1，同0为0
- `~`表示取反运算符，按照二进制位进行取反，1为0，0为1
- `^`表示按位异或运算符，按照二进制位进行异或运算，同为0，不同为1

## 流程控制语句

### if分支结构

```java
if(条件表达式){
    语句块;
}

如果条件表达式成立则执行1，否则执行2
if(条件表达式){
    语句块1;
}else{
    语句块2;
}

if(条件表达式){
    语句块1;
}else if(条件表达式){
    	语句块2;
	}else{
    	语句块3;
    }
```

### switch case分支结构

```java
switch(变量/表达式){
    case 字面值1:
    	语句块1；
        break;
    case 字面值2:
    	语句块2；
        break;
    ...
    default:
    	语句块n;
    break;
}
```

### for循环

```java
for(初始化表达式;条件表达式;修改初始值表达式){
    循环体;
}
```

#### continue关键字

用于提前结束本次循环开始下一次循环

#### break关键字

结束当前循环

### while循环

```java
while(条件表达式){
    循环体;
}

至少执行一次
do{
    循环体;
}while(条件表达式)
```

#### 常见错误

```java
while(条件表达式);{ // 增加分号后下面代码不再执行
    循环体;
}
```

## 数组

### 一维数组

- 当需要记录多个类型相同的数据内容时，则声明一个一维数组即可，一维数组本质上就是在内存空间申请一段连续的存储单元

- 数组是相同数据类型的多个元素的容器，元素按线性顺序排列，在java语言中体现为一种引用数据类型

  ```java
  [数据类型][] [数组名称] = new [数据类型][[数组的长度]];
  ```

- 调用数组的length属性可以获取数组的长度

- 可以通过下标的方式访问数组中的每个元素，数组下标从**0**开始

#### 数组优缺点

- 可以通过下标的方式访问指定位置的元素
- 数组要求所有元素的类型相同
- 数组要求内存空间连续，并且长度一旦确定就不能修改
- 增加和删除元素时，可能移动大量元素，效率低

#### 常见错误

```java
int[] a = {1,2,3,4};
int[] b = a; // b指向的是a所在的堆空间 共用一个堆
```

#### 数组工具类

- java.util.Arrays类可以实现对数组中元素的遍历、查找、排序等操作
- 具体使用查找源码

### 二/多维数组

- 二维数组本质上就是由多个一维数组摞在一起组成的数组，二维数组中的每个元素都是一堆数组，而一维数组中的每个元素才是数据内容

- ```java
  [数据类型][][] [数组名称] = new [数据类型][行数][列数];
  ```

#### 常见错误

```java
int[][] arr = new int[3][]; // 多维数组声明时可以暂时不声明列数 并且每一行列数可以不等
```

## 类和对象

- 万物皆对象
- 面向对象指以属性和行为的观点去分析现实生活中的事物
- 面向对象编程指先以面向对象的思想去进行分析，然后使用面向对象的编程语言进行表达的过程
- 面向对象编程是软件产业化发展的需求
- 理解面向对象的思想精髓（封装、多态、继承），至少掌握一种编程语言

- 对象主要指现实生活中客观存在的实体，在java语言中体现为内存空间中的一块存储区域
- 类简单来说就是分类，是对具有相同特征和行为的多个对象共性的抽象描述，在java语言中体现为一种引用数据类型，里面包含了描述特征/属性的成员变量以及描述行为的成员方法
- 类是用于构建对象的模板，对象的数据结构由定义他的类来决定

### 类的定义

```java
class [类名]{
    类体;
}

class Person{
    
    public static void main(String arsg){
        
    }
}
```

规范：每个单词首字母大写

### 成员变量的定义

```java
class [类名]{
    [数据类型] [成员变量名] = [初始值];
}

class Person{
    int age = 3;
}
```

规范：第二个单词开始首字母大写

### 对象的创建

```java
new [类名]();

new Person();
```



1. 当一个类定义完毕之后，可以使用new关键字来创建该类的对象，这个过程叫做类的实例化
2. 创建对象的本质就是在内存空间的堆区申请一块存储区域，用于存放该对象独有特征信息

#### 引用的定义

基本概念

1. 使用引用数据类型定义的变量叫做引用型变量，简称引用
2. 引用变量主要用于记录在对象在堆区中的内存地址信息，便于下次访问

语法格式

```java
[类名] [引用变量名] = new [类名]();
[引用变量名].[成员变量名];

Person person = new Person();
String name = person.name;
System.out.print(name);
```

